!function n(t,r,e){function o(i,u){if(!r[i]){if(!t[i]){var c="function"==typeof require&&require;if(!u&&c)return c(i,!0);if(a)return a(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var f=r[i]={exports:{}};t[i][0].call(f.exports,function(n){var r=t[i][1][n];return o(r?r:n)},f,f.exports,n,t,r,e)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<e.length;i++)o(e[i]);return o}({1:[function(n){var t,r,e,o=n(4),a=n(5)(),i=n(3),u=n(2),c=document.querySelector("#game"),s=c.getContext("2d"),f=["#0074D9","#2ECC40","#FF4136","#FFDC00"],d=c.width,l=c.height,p={r:0,g:0,b:0,a:0},h=function(){r=[];for(var n=0;3>n;n++)for(var t=0;3>t;t++)r.push({x:n*d/3,y:t*l/3,width:d/3,height:l/3,color:a.pick(f)});e={x:d/2,y:a.int(l/2),radius:a.range(50,60),dx:0,dy:0,maxdx:200,maxdy:200,color:a.pick(f)}},v=function(n,t,r,e,o){for(var a=s.getImageData(n,t,r,e),i=a.data.length,u=0,c=0;i>c;c+=4)a.data[c]===o.r&&a.data[c+1]===o.g&&a.data[c+2]===o.b&&u++;return u},y=function(n,t){var r=s.getImageData(n,t,1,1);return{r:r.data[0],g:r.data[1],b:r.data[2],a:r.data[3]}};h(),o.start(function(n){i.tick(),s.clearRect(0,0,d,l),s.globalAlpha=1,r.forEach(function(n){s.fillStyle=n.color,s.fillRect(n.x,n.y,n.width,n.height)}),t=v(e.x-e.radius-10,e.y-e.radius-10,2*e.radius+20,2*e.radius+20,p),s.globalAlpha=1e4>t?.8/(1+a.range(0,50)/100):1,console.log(t),(e.x-e.radius<0&&e.dx<0||e.x+e.radius>d&&e.dx>0)&&(e.dx=.4*-e.dx),(e.y-e.radius<0&&e.dy<0||e.y+e.radius>l&&e.dy>0)&&(e.dy=.4*-e.dy),e.x+=e.dx*n,e.y+=e.dy*n,s.beginPath(),s.arc(e.x,e.y,e.radius,0,2*Math.PI,!0),s.closePath(),s.fillStyle=e.color,s.fill(),s.fillRect(e.x-e.radius,e.y,e.radius,e.radius),s.fillRect(e.x,e.y,e.radius,e.radius),p=y(e.x+e.radius/2,e.y+e.radius/2)}),i.SPACE.down(function(){s.globalAlpha=.8/(1+a.range(0,50)/100)}),i.SPACE.up(function(){console.log("SPACE"),s.globalAlpha=1,u.playSound([0,,.1812,,.1349,.4524,,.2365,,,,,,.0819,,,,,1,,,,,.5]),e.color=a.pick(f)}),i.UP.down(function(){console.log("UP"),e.dy=Math.max(e.dy-10,-e.maxdy)}),i.DOWN.down(function(){console.log("DOWN"),e.dy=Math.min(e.dy+10,e.maxdy)}),i.LEFT.down(function(){console.log("LEFT"),e.dx=Math.max(e.dx-10,-e.maxdx)}),i.RIGHT.down(function(){console.log("RIGHT"),e.dx=Math.min(e.dx+10,e.maxdx)}),i.ESC.up(function(){console.log("ESC"),u.playSound([3,,.3708,.5822,.3851,.0584,,-.0268,,,,-.0749,.7624,,,,,,1,,,,,.5]),h()})},{}],2:[function(n,t){function r(){this.setSettings=function(n){for(var t=0;24>t;t++)this[String.fromCharCode(97+t)]=n[t]||0;this.c<.01&&(this.c=.01);var r=this.b+this.c+this.e;if(.18>r){var e=.18/r;this.b*=e,this.c*=e,this.e*=e}}}function e(){this._params=new r;var n,t,e,o,a,i,u,c,s,f,d,l;this.reset=function(){var n=this._params;o=100/(n.f*n.f+.001),a=100/(n.g*n.g+.001),i=1-n.h*n.h*n.h*.01,u=-n.i*n.i*n.i*1e-6,n.a||(d=.5-n.n/2,l=5e-5*-n.o),c=1+n.l*n.l*(n.l>0?-.9:10),s=0,f=1==n.m?0:(1-n.m)*(1-n.m)*2e4+32},this.totalReset=function(){this.reset();var r=this._params;return n=r.b*r.b*1e5,t=r.c*r.c*1e5,e=r.e*r.e*1e5+12,3*((n+t+e)/3|0)},this.synthWave=function(r,p){var h=this._params,v=1!=h.s||h.v,y=h.v*h.v*.1,m=1+3e-4*h.w,g=h.s*h.s*h.s*.1,x=1+1e-4*h.t,w=1!=h.s,b=h.x*h.x,E=h.g,k=h.q||h.r,A=h.r*h.r*h.r*.2,C=h.q*h.q*(h.q<0?-1020:1020),O=h.p?((1-h.p)*(1-h.p)*2e4|0)+32:0,S=h.d,q=h.j/2,F=h.k*h.k*.01,R=h.a,U=n,_=1/n,D=1/t,H=1/e,P=5/(1+h.u*h.u*20)*(.01+g);P>.8&&(P=.8),P=1-P;for(var L,T,M,I,N,j,W=!1,G=0,V=0,K=0,z=0,B=0,J=0,Q=0,X=0,Y=0,Z=0,$=new Array(1024),nt=new Array(32),tt=$.length;tt--;)$[tt]=0;for(var tt=nt.length;tt--;)nt[tt]=2*Math.random()-1;for(var tt=0;p>tt;tt++){if(W)return tt;if(O&&++Y>=O&&(Y=0,this.reset()),f&&++s>=f&&(f=0,o*=c),i+=u,o*=i,o>a&&(o=a,E>0&&(W=!0)),T=o,q>0&&(Z+=F,T*=1+Math.sin(Z)*q),T|=0,8>T&&(T=8),R||(d+=l,0>d?d=0:d>.5&&(d=.5)),++V>U)switch(V=0,++G){case 1:U=t;break;case 2:U=e}switch(G){case 0:K=V*_;break;case 1:K=1+2*(1-V*D)*S;break;case 2:K=1-V*H;break;case 3:K=0,W=!0}k&&(C+=A,M=0|C,0>M?M=-M:M>1023&&(M=1023)),v&&m&&(y*=m,1e-5>y?y=1e-5:y>.1&&(y=.1)),j=0;for(var rt=8;rt--;){if(Q++,Q>=T&&(Q%=T,3==R))for(var et=nt.length;et--;)nt[et]=2*Math.random()-1;switch(R){case 0:N=d>Q/T?.5:-.5;break;case 1:N=1-Q/T*2;break;case 2:I=Q/T,I=6.28318531*(I>.5?I-1:I),N=1.27323954*I+.405284735*I*I*(0>I?1:-1),N=.225*((0>N?-1:1)*N*N-N)+N;break;case 3:N=nt[Math.abs(32*Q/T|0)]}v&&(L=J,g*=x,0>g?g=0:g>.1&&(g=.1),w?(B+=(N-J)*g,B*=P):(J=N,B=0),J+=B,z+=J-L,z*=1-y,N=z),k&&($[X%1024]=N,N+=$[(X-M+1024)%1024],X++),j+=N}j*=.125*K*b,r[tt]=j>=1?32767:-1>=j?-32768:32767*j|0}return p}}function o(n){try{var t=jsfxr(n),r=new Audio;r.addEventListener("error",function(){console.log("Error: "+r.error.code)},!1),r.src=t,r.play(),r.addEventListener("ended",function(){u.revokeObjectURL(t)},!1)}catch(e){console.log(e.message)}}function a(n){for(var t=n.split(","),r=new Array,e=0;e<t.length;e++)r[e]=parseFloat(t[e]);o(r)}var i=new e;window.jsfxr=function(n){i._params.setSettings(n);var t=i.totalReset(),r=new Uint8Array(4*((t+1)/2|0)+44),e=2*i.synthWave(new Uint16Array(r.buffer,44),t),o=new Uint32Array(r.buffer,0,44);o[0]=1179011410,o[1]=e+36,o[2]=1163280727,o[3]=544501094,o[4]=16,o[5]=65537,o[6]=44100,o[7]=88200,o[8]=1048578,o[9]=1635017060,o[10]=e,e+=44;for(var a=0,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="data:audio/wav;base64,";e>a;a+=3){var s=r[a]<<16|r[a+1]<<8|r[a+2];c+=u[s>>18]+u[s>>12&63]+u[s>>6&63]+u[63&s]}return c};var u=window.URL||window.webkitURL;t.exports={playSound:o,playString:a}},{}],3:[function(n,t){!function(n){var r=function(){var t={};t.forEach=function(n,t){var r;for(r in n)n.hasOwnProperty(r)&&t(n[r],r)};var r=t.forEach;t.getTranspose=function(n){var t={};return r(n,function(n,r){t[n]=r}),t},t.indexOf=function(n,t){if(n.indexOf)return n.indexOf(t);var r,e=n.length;for(r=0;e>r;r++)if(n[r]===t)return r;return-1};var e=t.indexOf;return t.pushUnique=function(n,t){return-1===e(n,t)?(n.push(t),!0):!1},t.removeValue=function(n,t){var r=e(n,t);return-1!==r?n.splice(r,1)[0]:void 0},t.documentOn=function(t,r){n.addEventListener?n.addEventListener(t,r,!1):document.attachEvent&&document.attachEvent("on"+t,r)},t.requestAnimationFrame=function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)}}(),t.noop=function(){},t}(),e={A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},o=r.getTranspose(e),a=[],i=function(){"use strict";function n(n){this.keyCode=n}function t(n,t,r){r?n[t]=r:n[t]()}return n.prototype._downHandler=r.noop,n.prototype._upHandler=r.noop,n.prototype._pressHandler=r.noop,n.prototype.isDown=function(){return-1!==r.indexOf(a,this.keyCode)},n.prototype.down=function(n){t(this,"_downHandler",n)},n.prototype.up=function(n){t(this,"_upHandler",n)},n.prototype.press=function(n){t(this,"_pressHandler",n)},n.prototype.unbindDown=function(){this._downHandler=r.noop},n.prototype.unbindUp=function(){this._upHandler=r.noop},n.prototype.unbindPress=function(){this._pressHandler=r.noop},n}(),u=function(t){"use strict";var a={};a.Key=i;var u=!1;return a.tick=function(){var n,r=t.length;for(n=0;r>n;n++){var e=t[n],i=o[e];i&&a[i].down()}},a.run=function(t){u=!0,r.requestAnimationFrame.call(n,function(){u&&(a.run(t),t())})},a.stop=function(){u=!1},r.forEach(e,function(n,t){a[t]=new i(n)}),r.documentOn("keydown",function(n){var e=n.keyCode,i=o[e],u=r.pushUnique(t,e);u&&a[i]&&a[i].press()}),r.documentOn("keyup",function(n){var e=r.removeValue(t,n.keyCode),i=o[e];i&&a[i].up()}),r.documentOn("blur",function(){t.length=0}),a}(a);"object"==typeof t&&"object"==typeof t.exports?t.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):n.kd=u}(window)},{}],4:[function(n,t){function r(n){return window.requestAnimationFrame(function(){var t=Date.now(),r=t-e;r>999?r=1/60:r/=1e3,e=t,n(r)})}var e=0;t.exports={start:function(n){return r(function t(e){n(e),r(t)})},stop:function(n){window.cancelAnimationFrame(n)}}},{}],5:[function(n,t){function r(n){n||(n=Date.now());var t=n%30268+1;n=(n-n%30268)/30268;var r=n%30306+1;n=(n-n%30306)/30306;var e=n%30322+1;return n=(n-n%30322)/30322,function(){return t=171*t%30269,r=172*r%30307,e=170*e%30323,(t/30269+r/30307+e/30323)%1}}t.exports=function(n){var t=r(n),e={"int":function(n){return t()*(n||268435455)|0},"float":function(){return t()},bool:function(){return t()>.5},range:function(n,t){return e.int(t-n)+n},pick:function(n){return n[e.range(0,n.length)]}};return e}},{}]},{},[1]);